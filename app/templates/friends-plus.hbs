{{#with-anything session="service:session" router="router:main" as |_|}}
  {{#load-warp threshold=_warpThreshold model=model as |warpedModel|}}
    {{#round-trip model=warpedModel as |__|}}
      {{friends-pagination
        onNextClick=(action goToPage (add currentPage 1))
        onPreviousClick=(action goToPage (sub currentPage 1))
      }}
      {{#unless __.isLoading}}
        {{friends-list model=__.model}}
      {{else}}
        {{partial "loading"}}
      {{/unless}}
    {{/round-trip}}
  {{/load-warp}}
{{/with-anything}}

{{warp-threshold threshold=(mut _warpThreshold)}}
